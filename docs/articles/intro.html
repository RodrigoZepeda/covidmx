<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="covidmx">
<title>Introducción a covidmx • covidmx</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Introducción a covidmx">
<meta property="og:description" content="covidmx">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">covidmx</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.3.0000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/intro.html">Introducción a covidmx</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav"></ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Introducción a covidmx</h1>
                        <h4 data-toc-skip class="author">Rodrigo
Zepeda-Tello</h4>
            
      
      
      <div class="d-none name"><code>intro.Rmd</code></div>
    </div>

    
    
<p>La librería de <code>covidmx</code> está para ayudarte a analizar los
datos abiertos de COVID-19 de México, generar estadísticos de interés y
visualizaciones rápidas. La idea es ahorrarte tiempo.</p>
<div class="section level2">
<h2 id="instalación">Instalación<a class="anchor" aria-label="anchor" href="#instalaci%C3%B3n"></a>
</h2>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#install.packages("devtools")</span>
<span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://devtools.r-lib.org/reference/remote-reexports.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"RodrigoZepeda/covidmx"</span><span class="op">)</span></code></pre></div>
</div>
<div class="section level2">
<h2 id="descarga-de-datos-de-la-dirección-general-de-epidemiología">Descarga de datos de la Dirección General de Epidemiología<a class="anchor" aria-label="anchor" href="#descarga-de-datos-de-la-direcci%C3%B3n-general-de-epidemiolog%C3%ADa"></a>
</h2>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">covidmx</span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></code></pre></div>
<p>Lo más importante es comenzar descargando la base de datos pública.
Esto lo puedes hacer como sigue:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">datos_covid</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/descarga_datos_abiertos.html">descarga_datos_abiertos</a></span><span class="op">(</span>language <span class="op">=</span> <span class="st">"Español"</span><span class="op">)</span></code></pre></div>
<p>La descarga contiene una lista la información de interés está en
<code>datos_covid$dats</code></p>
<p>Por default <strong>NO</strong> se agregan las etiquetas a los datos
pues es muy tardado hacerlo:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">datos_covid</span><span class="op">$</span><span class="va">dats</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; Rows: ??</span>
<span class="co">#&gt; Columns: 40</span>
<span class="co">#&gt; Database: mysql  [rockdrigo@localhost:NA/COVID]</span>
<span class="co">#&gt; $ FECHA_ACTUALIZACION   <span style="color: #949494; font-style: italic;">&lt;date&gt;</span> 2022-06-23, 2022-06-23, 2022-06-23, 2022-06-23,…</span>
<span class="co">#&gt; $ ID_REGISTRO           <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "z3bf80", "z1e370", "zze974", "zz7067", "z1da1e"…</span>
<span class="co">#&gt; $ ORIGEN                <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 2, 1, 1, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, …</span>
<span class="co">#&gt; $ SECTOR                <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 12, 12, 6, 12, 12, 12, 12, 12, 3, 12, 12, 12, 12…</span>
<span class="co">#&gt; $ ENTIDAD_UM            <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "08", "14", "24", "09", "01", "09", "07", "08", …</span>
<span class="co">#&gt; $ SEXO                  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 2, 1, 1, 2, 2, 1, 2, 2, 1, 1, 1, 1, 1, 1, 2, 1, …</span>
<span class="co">#&gt; $ ENTIDAD_NAC           <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "08", "14", "24", "09", "01", "09", "07", "10", …</span>
<span class="co">#&gt; $ ENTIDAD_RES           <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "08", "14", "24", "09", "01", "09", "07", "08", …</span>
<span class="co">#&gt; $ MUNICIPIO_RES         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "037", "085", "035", "007", "001", "017", "078",…</span>
<span class="co">#&gt; $ TIPO_PACIENTE         <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 1, 1, 1, 1, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, …</span>
<span class="co">#&gt; $ FECHA_INGRESO         <span style="color: #949494; font-style: italic;">&lt;date&gt;</span> 2020-07-28, 2020-04-22, 2021-02-28, 2020-08-18,…</span>
<span class="co">#&gt; $ FECHA_SINTOMAS        <span style="color: #949494; font-style: italic;">&lt;date&gt;</span> 2020-07-20, 2020-04-18, 2021-02-20, 2020-08-17,…</span>
<span class="co">#&gt; $ FECHA_DEF             <span style="color: #949494; font-style: italic;">&lt;date&gt;</span> -001-11-30, -001-11-30, -001-11-30, -001-11-30,…</span>
<span class="co">#&gt; $ INTUBADO              <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 97, 97, 97, 97, 97, 97, 97, 97, 2, 97, 97, 97, 9…</span>
<span class="co">#&gt; $ NEUMONIA              <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 2, 2, 99, 2, 99, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2…</span>
<span class="co">#&gt; $ EDAD                  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 35, 42, 34, 51, 30, 47, 47, 38, 7, 56, 40, 67, 5…</span>
<span class="co">#&gt; $ NACIONALIDAD          <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, …</span>
<span class="co">#&gt; $ EMBARAZO              <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 97, 2, 2, 97, 97, 2, 97, 97, 2, 2, 2, 2, 2, 2, 9…</span>
<span class="co">#&gt; $ HABLA_LENGUA_INDIG    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 2, 2, 2, 2, 1, 2, 2, 2, 2, 2, 1, 2, 2, 2, 2, 2, …</span>
<span class="co">#&gt; $ INDIGENA              <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 1, 2, 2, 2, 2, 2, …</span>
<span class="co">#&gt; $ DIABETES              <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 2, 2, 2, 2, 2, 2, 2, 2, 2, 1, 2, 2, 1, 2, 2, 2, …</span>
<span class="co">#&gt; $ EPOC                  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, …</span>
<span class="co">#&gt; $ ASMA                  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 2, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, …</span>
<span class="co">#&gt; $ INMUSUPR              <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, …</span>
<span class="co">#&gt; $ HIPERTENSION          <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 2, 2, 2, 1, 2, 2, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, …</span>
<span class="co">#&gt; $ OTRA_COM              <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, …</span>
<span class="co">#&gt; $ CARDIOVASCULAR        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, …</span>
<span class="co">#&gt; $ OBESIDAD              <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 2, 2, 2, 2, 2, 2, 2, 2, 1, 2, 1, 2, 2, 2, 2, 2, …</span>
<span class="co">#&gt; $ RENAL_CRONICA         <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, …</span>
<span class="co">#&gt; $ TABAQUISMO            <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, …</span>
<span class="co">#&gt; $ OTRO_CASO             <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 2, 2, 1, 2, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, …</span>
<span class="co">#&gt; $ TOMA_MUESTRA_LAB      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 1, 1, 1, 1, 1, 2, 2, 1, 1, 1, 1, 2, 1, 1, 1, 1, …</span>
<span class="co">#&gt; $ RESULTADO_LAB         <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 1, 2, 2, 2, 2, 97, 97, 2, 4, 1, 2, 97, 1, 2, 1, …</span>
<span class="co">#&gt; $ TOMA_MUESTRA_ANTIGENO <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 2, 2, 2, 2, 2, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, …</span>
<span class="co">#&gt; $ RESULTADO_ANTIGENO    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 97, 97, 97, 97, 97, 2, 97, 97, 97, 97, 97, 97, 9…</span>
<span class="co">#&gt; $ CLASIFICACION_FINAL   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 3, 7, 7, 7, 7, 7, 6, 7, 6, 3, 7, 6, 3, 7, 3, 7, …</span>
<span class="co">#&gt; $ MIGRANTE              <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, …</span>
<span class="co">#&gt; $ PAIS_NACIONALIDAD     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "México", "México", "México", "México", "México"…</span>
<span class="co">#&gt; $ PAIS_ORIGEN           <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "97", "97", "97", "97", "97", "97", "97", "97", …</span>
<span class="co">#&gt; $ UCI                   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 97, 97, 97, 97, 97, 97, 97, 97, 2, 97, 97, 97, 9…</span></code></pre></div>
<p>Sin embargo se guardan como una lista en <code>dict</code> para su
consulta y uso por las funciones internas:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">datos_covid</span><span class="op">$</span><span class="va">dict</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; List of 31</span>
<span class="co">#&gt;  $ ASMA                 : tibble [5 × 2] (S3: tbl_df/tbl/data.frame)</span>
<span class="co">#&gt;   ..$ CLAVE      : num [1:5] 1 2 97 98 99</span>
<span class="co">#&gt;   ..$ DESCRIPCIÓN: chr [1:5] "SI" "NO" "NO APLICA" "SE IGNORA" ...</span>
<span class="co">#&gt;  $ CARDIOVASCULAR       : tibble [5 × 2] (S3: tbl_df/tbl/data.frame)</span>
<span class="co">#&gt;   ..$ CLAVE      : num [1:5] 1 2 97 98 99</span>
<span class="co">#&gt;   ..$ DESCRIPCIÓN: chr [1:5] "SI" "NO" "NO APLICA" "SE IGNORA" ...</span>
<span class="co">#&gt;  $ CLASIFICACION_FINAL  : tibble [7 × 3] (S3: tbl_df/tbl/data.frame)</span>
<span class="co">#&gt;   ..$ CLAVE        : num [1:7] 1 2 3 4 5 6 7</span>
<span class="co">#&gt;   ..$ CLASIFICACIÓN: chr [1:7] "CASO DE COVID-19 CONFIRMADO POR ASOCIACIÓN CLÍNICA EPIDEMIOLÓGICA" "CASO DE COVID-19 CONFIRMADO POR COMITÉ DE  DICTAMINACIÓN" "CASO DE SARS-COV-2  CONFIRMADO" "INVÁLIDO POR LABORATORIO" ...</span>
<span class="co">#&gt;   ..$ DESCRIPCIÓN  : chr [1:7] "Confirmado por asociación aplica cuando el caso informó ser contacto de un positivo a COVID-19 (y este se encue"| __truncated__ "Confirmado por dictaminación solo aplica para defunciones bajo las siguientes condiciones: \r\nAl caso no se le"| __truncated__ "Confirmado aplica cuando:\r\nEl caso tiene muestra de laboratorio o prueba antigénica y resultó positiva  a SAR"| __truncated__ "Inválido aplica cuando el caso no tienen asociación clínico epidemiológica, ni dictaminación a COVID-19. Se le "| __truncated__ ...</span>
<span class="co">#&gt;  $ DIABETES             : tibble [5 × 2] (S3: tbl_df/tbl/data.frame)</span>
<span class="co">#&gt;   ..$ CLAVE      : num [1:5] 1 2 97 98 99</span>
<span class="co">#&gt;   ..$ DESCRIPCIÓN: chr [1:5] "SI" "NO" "NO APLICA" "SE IGNORA" ...</span>
<span class="co">#&gt;  $ EMBARAZO             : tibble [5 × 2] (S3: tbl_df/tbl/data.frame)</span>
<span class="co">#&gt;   ..$ CLAVE      : num [1:5] 1 2 97 98 99</span>
<span class="co">#&gt;   ..$ DESCRIPCIÓN: chr [1:5] "SI" "NO" "NO APLICA" "SE IGNORA" ...</span>
<span class="co">#&gt;  $ ENTIDAD_NAC          : tibble [36 × 3] (S3: tbl_df/tbl/data.frame)</span>
<span class="co">#&gt;   ..$ CLAVE_ENTIDAD     : chr [1:36] "01" "02" "03" "04" ...</span>
<span class="co">#&gt;   ..$ ENTIDAD_FEDERATIVA: chr [1:36] "AGUASCALIENTES" "BAJA CALIFORNIA" "BAJA CALIFORNIA SUR" "CAMPECHE" ...</span>
<span class="co">#&gt;   ..$ ABREVIATURA       : chr [1:36] "AS" "BC" "BS" "CC" ...</span>
<span class="co">#&gt;  $ ENTIDAD_RES          : tibble [36 × 3] (S3: tbl_df/tbl/data.frame)</span>
<span class="co">#&gt;   ..$ CLAVE_ENTIDAD     : chr [1:36] "01" "02" "03" "04" ...</span>
<span class="co">#&gt;   ..$ ENTIDAD_FEDERATIVA: chr [1:36] "AGUASCALIENTES" "BAJA CALIFORNIA" "BAJA CALIFORNIA SUR" "CAMPECHE" ...</span>
<span class="co">#&gt;   ..$ ABREVIATURA       : chr [1:36] "AS" "BC" "BS" "CC" ...</span>
<span class="co">#&gt;  $ ENTIDAD_UM           : tibble [36 × 3] (S3: tbl_df/tbl/data.frame)</span>
<span class="co">#&gt;   ..$ CLAVE_ENTIDAD     : chr [1:36] "01" "02" "03" "04" ...</span>
<span class="co">#&gt;   ..$ ENTIDAD_FEDERATIVA: chr [1:36] "AGUASCALIENTES" "BAJA CALIFORNIA" "BAJA CALIFORNIA SUR" "CAMPECHE" ...</span>
<span class="co">#&gt;   ..$ ABREVIATURA       : chr [1:36] "AS" "BC" "BS" "CC" ...</span>
<span class="co">#&gt;  $ EPOC                 : tibble [5 × 2] (S3: tbl_df/tbl/data.frame)</span>
<span class="co">#&gt;   ..$ CLAVE      : num [1:5] 1 2 97 98 99</span>
<span class="co">#&gt;   ..$ DESCRIPCIÓN: chr [1:5] "SI" "NO" "NO APLICA" "SE IGNORA" ...</span>
<span class="co">#&gt;  $ HABLA LENGUA INDIGENA: tibble [5 × 2] (S3: tbl_df/tbl/data.frame)</span>
<span class="co">#&gt;   ..$ CLAVE      : num [1:5] 1 2 97 98 99</span>
<span class="co">#&gt;   ..$ DESCRIPCIÓN: chr [1:5] "SI" "NO" "NO APLICA" "SE IGNORA" ...</span>
<span class="co">#&gt;  $ HIPERTENSION         : tibble [5 × 2] (S3: tbl_df/tbl/data.frame)</span>
<span class="co">#&gt;   ..$ CLAVE      : num [1:5] 1 2 97 98 99</span>
<span class="co">#&gt;   ..$ DESCRIPCIÓN: chr [1:5] "SI" "NO" "NO APLICA" "SE IGNORA" ...</span>
<span class="co">#&gt;  $ INDIGENA             : tibble [5 × 2] (S3: tbl_df/tbl/data.frame)</span>
<span class="co">#&gt;   ..$ CLAVE      : num [1:5] 1 2 97 98 99</span>
<span class="co">#&gt;   ..$ DESCRIPCIÓN: chr [1:5] "SI" "NO" "NO APLICA" "SE IGNORA" ...</span>
<span class="co">#&gt;  $ INMUSUPR             : tibble [5 × 2] (S3: tbl_df/tbl/data.frame)</span>
<span class="co">#&gt;   ..$ CLAVE      : num [1:5] 1 2 97 98 99</span>
<span class="co">#&gt;   ..$ DESCRIPCIÓN: chr [1:5] "SI" "NO" "NO APLICA" "SE IGNORA" ...</span>
<span class="co">#&gt;  $ INTUBADO             : tibble [5 × 2] (S3: tbl_df/tbl/data.frame)</span>
<span class="co">#&gt;   ..$ CLAVE      : num [1:5] 1 2 97 98 99</span>
<span class="co">#&gt;   ..$ DESCRIPCIÓN: chr [1:5] "SI" "NO" "NO APLICA" "SE IGNORA" ...</span>
<span class="co">#&gt;  $ MUNICIPIO_RES        : tibble [2,501 × 3] (S3: tbl_df/tbl/data.frame)</span>
<span class="co">#&gt;   ..$ CLAVE_MUNICIPIO: chr [1:2501] "001" "002" "003" "004" ...</span>
<span class="co">#&gt;   ..$ MUNICIPIO      : chr [1:2501] "AGUASCALIENTES" "ASIENTOS" "CALVILLO" "COSÍO" ...</span>
<span class="co">#&gt;   ..$ CLAVE_ENTIDAD  : chr [1:2501] "01" "01" "01" "01" ...</span>
<span class="co">#&gt;  $ NACIONALIDAD         : tibble [3 × 2] (S3: tbl_df/tbl/data.frame)</span>
<span class="co">#&gt;   ..$ CLAVE      : num [1:3] 1 2 99</span>
<span class="co">#&gt;   ..$ DESCRIPCIÓN: chr [1:3] "MEXICANA" "EXTRANJERA" "NO ESPECIFICADO"</span>
<span class="co">#&gt;  $ NEUMONIA             : tibble [5 × 2] (S3: tbl_df/tbl/data.frame)</span>
<span class="co">#&gt;   ..$ CLAVE      : num [1:5] 1 2 97 98 99</span>
<span class="co">#&gt;   ..$ DESCRIPCIÓN: chr [1:5] "SI" "NO" "NO APLICA" "SE IGNORA" ...</span>
<span class="co">#&gt;  $ OBESIDAD             : tibble [5 × 2] (S3: tbl_df/tbl/data.frame)</span>
<span class="co">#&gt;   ..$ CLAVE      : num [1:5] 1 2 97 98 99</span>
<span class="co">#&gt;   ..$ DESCRIPCIÓN: chr [1:5] "SI" "NO" "NO APLICA" "SE IGNORA" ...</span>
<span class="co">#&gt;  $ ORIGEN               : tibble [3 × 2] (S3: tbl_df/tbl/data.frame)</span>
<span class="co">#&gt;   ..$ CLAVE      : num [1:3] 1 2 99</span>
<span class="co">#&gt;   ..$ DESCRIPCIÓN: chr [1:3] "USMER" "FUERA DE USMER" "NO ESPECIFICADO"</span>
<span class="co">#&gt;  $ OTRA_COMORBILIDAD    : tibble [5 × 2] (S3: tbl_df/tbl/data.frame)</span>
<span class="co">#&gt;   ..$ CLAVE      : num [1:5] 1 2 97 98 99</span>
<span class="co">#&gt;   ..$ DESCRIPCIÓN: chr [1:5] "SI" "NO" "NO APLICA" "SE IGNORA" ...</span>
<span class="co">#&gt;  $ OTRO_CASO            : tibble [5 × 2] (S3: tbl_df/tbl/data.frame)</span>
<span class="co">#&gt;   ..$ CLAVE      : num [1:5] 1 2 97 98 99</span>
<span class="co">#&gt;   ..$ DESCRIPCIÓN: chr [1:5] "SI" "NO" "NO APLICA" "SE IGNORA" ...</span>
<span class="co">#&gt;  $ PACIENTE             : tibble [3 × 2] (S3: tbl_df/tbl/data.frame)</span>
<span class="co">#&gt;   ..$ CLAVE      : num [1:3] 1 2 99</span>
<span class="co">#&gt;   ..$ DESCRIPCIÓN: chr [1:3] "AMBULATORIO" "HOSPITALIZADO" "NO ESPECIFICADO"</span>
<span class="co">#&gt;  $ RENAL_CRONICA        : tibble [5 × 2] (S3: tbl_df/tbl/data.frame)</span>
<span class="co">#&gt;   ..$ CLAVE      : num [1:5] 1 2 97 98 99</span>
<span class="co">#&gt;   ..$ DESCRIPCIÓN: chr [1:5] "SI" "NO" "NO APLICA" "SE IGNORA" ...</span>
<span class="co">#&gt;  $ RESULTADO_LAB        : tibble [5 × 2] (S3: tbl_df/tbl/data.frame)</span>
<span class="co">#&gt;   ..$ CLAVE      : num [1:5] 1 2 3 4 97</span>
<span class="co">#&gt;   ..$ DESCRIPCIÓN: chr [1:5] "POSITIVO A SARS-COV-2" "NO POSITIVO A SARS-COV-2" "RESULTADO PENDIENTE" "RESULTADO NO ADECUADO" ...</span>
<span class="co">#&gt;  $ RESULTADO_ANTIGENO   : tibble [3 × 2] (S3: tbl_df/tbl/data.frame)</span>
<span class="co">#&gt;   ..$ CLAVE      : num [1:3] 1 2 97</span>
<span class="co">#&gt;   ..$ DESCRIPCIÓN: chr [1:3] "POSITIVO A SARS-COV-2" "NEGATIVO A SARS-COV-2" "NO APLICA (CASO SIN MUESTRA)"</span>
<span class="co">#&gt;  $ SECTOR               : tibble [14 × 2] (S3: tbl_df/tbl/data.frame)</span>
<span class="co">#&gt;   ..$ CLAVE      : num [1:14] 1 2 3 4 5 6 7 8 9 10 ...</span>
<span class="co">#&gt;   ..$ DESCRIPCIÓN: chr [1:14] "CRUZ ROJA" "DIF" "ESTATAL" "IMSS" ...</span>
<span class="co">#&gt;  $ SEXO                 : tibble [3 × 2] (S3: tbl_df/tbl/data.frame)</span>
<span class="co">#&gt;   ..$ CLAVE      : num [1:3] 1 2 99</span>
<span class="co">#&gt;   ..$ DESCRIPCIÓN: chr [1:3] "MUJER" "HOMBRE" "NO ESPECIFICADO"</span>
<span class="co">#&gt;  $ TABAQUISMO           : tibble [5 × 2] (S3: tbl_df/tbl/data.frame)</span>
<span class="co">#&gt;   ..$ CLAVE      : num [1:5] 1 2 97 98 99</span>
<span class="co">#&gt;   ..$ DESCRIPCIÓN: chr [1:5] "SI" "NO" "NO APLICA" "SE IGNORA" ...</span>
<span class="co">#&gt;  $ TOMA_MUESTRA_ANTIGENO: tibble [5 × 2] (S3: tbl_df/tbl/data.frame)</span>
<span class="co">#&gt;   ..$ CLAVE      : num [1:5] 1 2 97 98 99</span>
<span class="co">#&gt;   ..$ DESCRIPCIÓN: chr [1:5] "SI" "NO" "NO APLICA" "SE IGNORA" ...</span>
<span class="co">#&gt;  $ TOMA_MUESTRA_LAB     : tibble [5 × 2] (S3: tbl_df/tbl/data.frame)</span>
<span class="co">#&gt;   ..$ CLAVE      : num [1:5] 1 2 97 98 99</span>
<span class="co">#&gt;   ..$ DESCRIPCIÓN: chr [1:5] "SI" "NO" "NO APLICA" "SE IGNORA" ...</span>
<span class="co">#&gt;  $ UCI                  : tibble [5 × 2] (S3: tbl_df/tbl/data.frame)</span>
<span class="co">#&gt;   ..$ CLAVE      : num [1:5] 1 2 97 98 99</span>
<span class="co">#&gt;   ..$ DESCRIPCIÓN: chr [1:5] "SI" "NO" "NO APLICA" "SE IGNORA" ...</span></code></pre></div>
<p>por ejemplo para ver el diccionario de antígeno:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">datos_covid</span><span class="op">$</span><span class="va">dict</span><span class="op">$</span><span class="va">RESULTADO_ANTIGENO</span>
<span class="co">#&gt; <span style="color: #949494;"># A tibble: 3 × 2</span></span>
<span class="co">#&gt;   CLAVE DESCRIPCIÓN                 </span>
<span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                       </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">1</span>     1 POSITIVO A SARS-COV-2       </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">2</span>     2 NEGATIVO A SARS-COV-2       </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">3</span>    97 NO APLICA (CASO SIN MUESTRA)</span></code></pre></div>
<p>De hecho no es necesario volver a descargar si reinicias tu sesión de
<code>R</code> siempre y cuando los hayas guardado en
<code>MariaDB</code> (el default). Puedes sólo leer los datos abiertos
que ya tienes usando la función <code>read_datos_abiertos.R</code>;</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/read_datos_abiertos.html">read_datos_abiertos</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; Using host localhost</span>
<span class="co">#&gt; Using port 8787</span>
<span class="co">#&gt; No olvides desconectar la base con datos_covid$disconnect() cuando termines.</span>
<span class="co">#&gt; List of 3</span>
<span class="co">#&gt;  $ dats      :List of 2</span>
<span class="co">#&gt;   ..$ src       :List of 2</span>
<span class="co">#&gt;   .. ..$ con  :Formal class 'MariaDBConnection' [package "RMariaDB"] with 7 slots</span>
<span class="co">#&gt;   .. ..$ disco: NULL</span>
<span class="co">#&gt;   .. ..- attr(*, "class")= chr [1:4] "src_MariaDBConnection" "src_dbi" "src_sql" "src"</span>
<span class="co">#&gt;   ..$ lazy_query:List of 5</span>
<span class="co">#&gt;   .. ..$ x         : 'ident' chr "covidmx"</span>
<span class="co">#&gt;   .. ..$ vars      : chr [1:40] "FECHA_ACTUALIZACION" "ID_REGISTRO" "ORIGEN" "SECTOR" ...</span>
<span class="co">#&gt;   .. ..$ group_vars: chr(0) </span>
<span class="co">#&gt;   .. ..$ order_vars: NULL</span>
<span class="co">#&gt;   .. ..$ frame     : NULL</span>
<span class="co">#&gt;   .. ..- attr(*, "class")= chr [1:3] "lazy_base_remote_query" "lazy_base_query" "lazy_query"</span>
<span class="co">#&gt;   ..- attr(*, "class")= chr [1:5] "tbl_MariaDBConnection" "tbl_dbi" "tbl_sql" "tbl_lazy" ...</span>
<span class="co">#&gt;  $ disconnect:function ()  </span>
<span class="co">#&gt;  $ dict      :List of 31</span>
<span class="co">#&gt;   ..$ ASMA                 : tibble [5 × 2] (S3: tbl_df/tbl/data.frame)</span>
<span class="co">#&gt;   ..$ CARDIOVASCULAR       : tibble [5 × 2] (S3: tbl_df/tbl/data.frame)</span>
<span class="co">#&gt;   ..$ CLASIFICACION_FINAL  : tibble [7 × 3] (S3: tbl_df/tbl/data.frame)</span>
<span class="co">#&gt;   ..$ DIABETES             : tibble [5 × 2] (S3: tbl_df/tbl/data.frame)</span>
<span class="co">#&gt;   ..$ EMBARAZO             : tibble [5 × 2] (S3: tbl_df/tbl/data.frame)</span>
<span class="co">#&gt;   ..$ ENTIDAD_NAC          : tibble [36 × 3] (S3: tbl_df/tbl/data.frame)</span>
<span class="co">#&gt;   ..$ ENTIDAD_RES          : tibble [36 × 3] (S3: tbl_df/tbl/data.frame)</span>
<span class="co">#&gt;   ..$ ENTIDAD_UM           : tibble [36 × 3] (S3: tbl_df/tbl/data.frame)</span>
<span class="co">#&gt;   ..$ EPOC                 : tibble [5 × 2] (S3: tbl_df/tbl/data.frame)</span>
<span class="co">#&gt;   ..$ HABLA LENGUA INDIGENA: tibble [5 × 2] (S3: tbl_df/tbl/data.frame)</span>
<span class="co">#&gt;   ..$ HIPERTENSION         : tibble [5 × 2] (S3: tbl_df/tbl/data.frame)</span>
<span class="co">#&gt;   ..$ INDIGENA             : tibble [5 × 2] (S3: tbl_df/tbl/data.frame)</span>
<span class="co">#&gt;   ..$ INMUSUPR             : tibble [5 × 2] (S3: tbl_df/tbl/data.frame)</span>
<span class="co">#&gt;   ..$ INTUBADO             : tibble [5 × 2] (S3: tbl_df/tbl/data.frame)</span>
<span class="co">#&gt;   ..$ MUNICIPIO_RES        : tibble [2,501 × 3] (S3: tbl_df/tbl/data.frame)</span>
<span class="co">#&gt;   ..$ NACIONALIDAD         : tibble [3 × 2] (S3: tbl_df/tbl/data.frame)</span>
<span class="co">#&gt;   ..$ NEUMONIA             : tibble [5 × 2] (S3: tbl_df/tbl/data.frame)</span>
<span class="co">#&gt;   ..$ OBESIDAD             : tibble [5 × 2] (S3: tbl_df/tbl/data.frame)</span>
<span class="co">#&gt;   ..$ ORIGEN               : tibble [3 × 2] (S3: tbl_df/tbl/data.frame)</span>
<span class="co">#&gt;   ..$ OTRA_COMORBILIDAD    : tibble [5 × 2] (S3: tbl_df/tbl/data.frame)</span>
<span class="co">#&gt;   ..$ OTRO_CASO            : tibble [5 × 2] (S3: tbl_df/tbl/data.frame)</span>
<span class="co">#&gt;   ..$ PACIENTE             : tibble [3 × 2] (S3: tbl_df/tbl/data.frame)</span>
<span class="co">#&gt;   ..$ RENAL_CRONICA        : tibble [5 × 2] (S3: tbl_df/tbl/data.frame)</span>
<span class="co">#&gt;   ..$ RESULTADO_LAB        : tibble [5 × 2] (S3: tbl_df/tbl/data.frame)</span>
<span class="co">#&gt;   ..$ RESULTADO_ANTIGENO   : tibble [3 × 2] (S3: tbl_df/tbl/data.frame)</span>
<span class="co">#&gt;   ..$ SECTOR               : tibble [14 × 2] (S3: tbl_df/tbl/data.frame)</span>
<span class="co">#&gt;   ..$ SEXO                 : tibble [3 × 2] (S3: tbl_df/tbl/data.frame)</span>
<span class="co">#&gt;   ..$ TABAQUISMO           : tibble [5 × 2] (S3: tbl_df/tbl/data.frame)</span>
<span class="co">#&gt;   ..$ TOMA_MUESTRA_ANTIGENO: tibble [5 × 2] (S3: tbl_df/tbl/data.frame)</span>
<span class="co">#&gt;   ..$ TOMA_MUESTRA_LAB     : tibble [5 × 2] (S3: tbl_df/tbl/data.frame)</span>
<span class="co">#&gt;   ..$ UCI                  : tibble [5 × 2] (S3: tbl_df/tbl/data.frame)</span></code></pre></div>
<p>Una vez descargados (o leídos), basta componer la base de datos con
cualquiera de las funciones para tener una tabla de datos agregada por
fecha y entidad. Las bases de datos se agregan a la lista bajo el nombre
default <code>casos</code>. Por ejemplo:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">datos_covid</span> <span class="op">&lt;-</span> <span class="va">datos_covid</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="../reference/casos.html">casos</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p>El objeto <code>casos</code> por default es un <code>tibble</code>
con el que ya puedes operar:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">datos_covid</span><span class="op">$</span><span class="va">casos</span><span class="op">)</span>
<span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 5</span></span>
<span class="co">#&gt;   FECHA_SINTOMAS ENTIDAD_UM       n ENTIDAD_FEDERATIVA   ABREVIATURA</span>
<span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;date&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;int64&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">1</span> 2020-01-01     01               5 AGUASCALIENTES       AS         </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">2</span> 2020-01-01     02               4 BAJA CALIFORNIA      BC         </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">3</span> 2020-01-01     03               4 BAJA CALIFORNIA SUR  BS         </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">4</span> 2020-01-01     05               6 COAHUILA DE ZARAGOZA CL         </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">5</span> 2020-01-01     06               3 COLIMA               CM         </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">6</span> 2020-01-01     08              11 CHIHUAHUA            CH</span></code></pre></div>
<p>Se puede filtar por entidad de la unidad médica seleccionando las
entidades de interés:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">datos_covid</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="../reference/casos.html">casos</a></span><span class="op">(</span>entidades <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"QUINTANA ROO"</span>,<span class="st">"AGUASCALIENTES"</span><span class="op">)</span><span class="op">)</span> </code></pre></div>
<pre><code><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 5</span></span>
<span class="co">#&gt;   FECHA_SINTOMAS ENTIDAD_UM       n ENTIDAD_FEDERATIVA ABREVIATURA</span>
<span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;date&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;int64&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">1</span> 2020-01-01     01               5 AGUASCALIENTES     AS         </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">2</span> 2020-01-01     23               7 QUINTANA ROO       QR         </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">3</span> 2020-01-02     23               9 QUINTANA ROO       QR         </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">4</span> 2020-01-03     01               1 AGUASCALIENTES     AS         </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">5</span> 2020-01-03     23              11 QUINTANA ROO       QR         </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">6</span> 2020-01-04     01               2 AGUASCALIENTES     AS</span></code></pre>
<p>Si se quiere filtrar por entidad de nacimiento y que la fecha sea la
de ingreso, por ejemplo:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">datos_covid</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> 
    <span class="fu"><a href="../reference/casos.html">casos</a></span><span class="op">(</span>entidades    <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"QUINTANA ROO"</span>,<span class="st">"AGUASCALIENTES"</span><span class="op">)</span>,
          entidad_tipo <span class="op">=</span> <span class="st">"Nacimiento"</span>,
          fecha_tipo   <span class="op">=</span> <span class="st">"Ingreso"</span><span class="op">)</span> </code></pre></div>
<pre><code><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 5</span></span>
<span class="co">#&gt;   FECHA_INGRESO ENTIDAD_NAC       n ENTIDAD_FEDERATIVA ABREVIATURA</span>
<span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;date&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;int64&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">1</span> 2020-01-01    01                0 AGUASCALIENTES     AS         </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">2</span> 2020-01-01    23                2 QUINTANA ROO       QR         </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">3</span> 2020-01-02    01                4 AGUASCALIENTES     AS         </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">4</span> 2020-01-02    23                2 QUINTANA ROO       QR         </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">5</span> 2020-01-03    01                0 AGUASCALIENTES     AS         </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">6</span> 2020-01-03    23                4 QUINTANA ROO       QR</span></code></pre>
<p>Finalmente, si sólo se desean casos confirmados e inválidos:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">datos_covid</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> 
    <span class="fu"><a href="../reference/casos.html">casos</a></span><span class="op">(</span>entidades    <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"QUINTANA ROO"</span>,<span class="st">"AGUASCALIENTES"</span><span class="op">)</span>,
          entidad_tipo <span class="op">=</span> <span class="st">"Nacimiento"</span>,
          fecha_tipo   <span class="op">=</span> <span class="st">"Ingreso"</span>,
          tipo_clasificacion <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Confirmados COVID"</span>, <span class="st">"Invalido"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 5</span></span>
<span class="co">#&gt;   FECHA_INGRESO ENTIDAD_NAC       n ENTIDAD_FEDERATIVA ABREVIATURA</span>
<span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;date&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;int64&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">1</span> 2020-01-01    01                0 AGUASCALIENTES     AS         </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">2</span> 2020-01-01    23                0 QUINTANA ROO       QR         </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">3</span> 2020-01-02    01                0 AGUASCALIENTES     AS         </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">4</span> 2020-01-02    23                0 QUINTANA ROO       QR         </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">5</span> 2020-01-03    01                0 AGUASCALIENTES     AS         </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">6</span> 2020-01-03    23                0 QUINTANA ROO       QR</span></code></pre>
<p>Nota que por default el programa rellena con ceros lo que no se
observó. Si quieres cancelar esta opción basta con cambiar
<code>fill_zeros = FALSE</code>:</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">datos_covid</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> 
    <span class="fu"><a href="../reference/casos.html">casos</a></span><span class="op">(</span>entidades    <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"QUINTANA ROO"</span>,<span class="st">"AGUASCALIENTES"</span><span class="op">)</span>,
          entidad_tipo <span class="op">=</span> <span class="st">"Nacimiento"</span>,
          fecha_tipo   <span class="op">=</span> <span class="st">"Ingreso"</span>,
          tipo_clasificacion <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Confirmados COVID"</span>, <span class="st">"Invalido"</span><span class="op">)</span>,
          fill_zeros <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 5</span></span>
<span class="co">#&gt;   FECHA_INGRESO ENTIDAD_NAC       n ENTIDAD_FEDERATIVA ABREVIATURA</span>
<span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;date&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;int64&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">1</span> 2020-01-07    23                1 QUINTANA ROO       QR         </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">2</span> 2020-01-12    23                1 QUINTANA ROO       QR         </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">3</span> 2020-01-27    23                1 QUINTANA ROO       QR         </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">4</span> 2020-02-13    01                1 AGUASCALIENTES     AS         </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">5</span> 2020-02-27    23                1 QUINTANA ROO       QR         </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">6</span> 2020-03-02    01                1 AGUASCALIENTES     AS</span></code></pre>
<p>Si se desea que los casos vengan agregados (es decir
<code>QUINTANA ROO + AGUASCALIENTES</code>) se puede cambiar la opción
de <code>group_by_entidad</code> a <code>FALSE</code>:</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">datos_covid</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> 
    <span class="fu"><a href="../reference/casos.html">casos</a></span><span class="op">(</span>entidades          <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"QUINTANA ROO"</span>,<span class="st">"AGUASCALIENTES"</span><span class="op">)</span>,
          entidad_tipo       <span class="op">=</span> <span class="st">"Nacimiento"</span>,
          fecha_tipo         <span class="op">=</span> <span class="st">"Ingreso"</span>,
          tipo_clasificacion <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Confirmados COVID"</span>, <span class="st">"Invalido"</span><span class="op">)</span>,
          group_by_entidad   <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> </code></pre></div>
<pre><code><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 2</span></span>
<span class="co">#&gt;   FECHA_INGRESO       n</span>
<span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;date&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;int64&gt;</span></span>
<span class="co">#&gt; <span style="color: #BCBCBC;">1</span> 2020-01-01          0</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">2</span> 2020-01-02          0</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">3</span> 2020-01-03          0</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">4</span> 2020-01-04          0</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">5</span> 2020-01-05          0</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">6</span> 2020-01-06          0</span></code></pre>
<p>La variable <code>edad_cut</code> te permite quedarte sòlo con un
grupo de edad o bien definir múltiples. Por ejemplo para quedarte sólo
con los casos de 5 a 25 años:</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">datos_covid</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="../reference/casos.html">casos</a></span><span class="op">(</span>edad_cut <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5</span>, <span class="fl">25</span><span class="op">)</span><span class="op">)</span> </code></pre></div>
<pre><code><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 6</span></span>
<span class="co">#&gt;   FECHA_SINTOMAS EDAD_CAT ENTIDAD_UM       n ENTIDAD_FEDERATIVA ABREVIATURA</span>
<span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;date&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;int64&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">1</span> 2020-01-01     (5,25]   01               1 AGUASCALIENTES     AS         </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">2</span> 2020-01-01     (5,25]   02               2 BAJA CALIFORNIA    BC         </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">3</span> 2020-01-01     (5,25]   06               1 COLIMA             CM         </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">4</span> 2020-01-01     (5,25]   08               1 CHIHUAHUA          CH         </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">5</span> 2020-01-01     (5,25]   09              13 CIUDAD DE MÉXICO   DF         </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">6</span> 2020-01-01     (5,25]   11               2 GUANAJUATO         GT</span></code></pre>
<p>O bien definir grupos de edad de la forma <code>0-20</code>,
<code>20-60</code> y <code>60+</code></p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">datos_covid</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="../reference/casos.html">casos</a></span><span class="op">(</span>edad_cut <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">20</span>, <span class="fl">60</span>, <span class="cn">Inf</span><span class="op">)</span><span class="op">)</span> </code></pre></div>
<pre><code><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 6</span></span>
<span class="co">#&gt;   FECHA_SINTOMAS EDAD_CAT ENTIDAD_UM       n ENTIDAD_FEDERATIVA ABREVIATURA</span>
<span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;date&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;int64&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">1</span> 2020-01-01     (0,20]   01               1 AGUASCALIENTES     AS         </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">2</span> 2020-01-01     (0,20]   02               2 BAJA CALIFORNIA    BC         </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">3</span> 2020-01-01     (0,20]   06               1 COLIMA             CM         </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">4</span> 2020-01-01     (0,20]   08               6 CHIHUAHUA          CH         </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">5</span> 2020-01-01     (0,20]   09              26 CIUDAD DE MÉXICO   DF         </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">6</span> 2020-01-01     (0,20]   11               1 GUANAJUATO         GT</span></code></pre>
<p>Puedes acumular diferentes bases de datos en la misma lista
asignándoles nombres:</p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">datos_covid</span> <span class="op">&lt;-</span> <span class="va">datos_covid</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="../reference/casos.html">casos</a></span><span class="op">(</span>list_name <span class="op">=</span> <span class="st">"Todos por entidad"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="../reference/casos.html">casos</a></span><span class="op">(</span>list_name <span class="op">=</span> <span class="st">"Todos (nacional)"</span>, group_by_entidad <span class="op">=</span> <span class="cn">F</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="../reference/casos.html">casos</a></span><span class="op">(</span>list_name <span class="op">=</span> <span class="st">"Defunciones (todos)"</span><span class="op">)</span> 

<span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">message</a></span><span class="op">(</span><span class="st">"Todos (nacional)"</span><span class="op">)</span>
<span class="co">#&gt; Todos (nacional)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">datos_covid</span><span class="op">$</span><span class="va">`Todos (nacional)`</span><span class="op">)</span>
<span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 2</span></span>
<span class="co">#&gt;   FECHA_SINTOMAS       n</span>
<span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;date&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;int64&gt;</span></span>
<span class="co">#&gt; <span style="color: #BCBCBC;">1</span> 2020-01-01         287</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">2</span> 2020-01-02         233</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">3</span> 2020-01-03         247</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">4</span> 2020-01-04         245</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">5</span> 2020-01-05         349</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">6</span> 2020-01-06         345</span>

<span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">message</a></span><span class="op">(</span><span class="st">"Todos por entidad"</span><span class="op">)</span>
<span class="co">#&gt; Todos por entidad</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">datos_covid</span><span class="op">$</span><span class="va">`Todos por entidad`</span><span class="op">)</span>
<span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 5</span></span>
<span class="co">#&gt;   FECHA_SINTOMAS ENTIDAD_UM       n ENTIDAD_FEDERATIVA   ABREVIATURA</span>
<span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;date&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;int64&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">1</span> 2020-01-01     01               5 AGUASCALIENTES       AS         </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">2</span> 2020-01-01     02               4 BAJA CALIFORNIA      BC         </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">3</span> 2020-01-01     03               4 BAJA CALIFORNIA SUR  BS         </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">4</span> 2020-01-01     05               6 COAHUILA DE ZARAGOZA CL         </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">5</span> 2020-01-01     06               3 COLIMA               CM         </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">6</span> 2020-01-01     08              11 CHIHUAHUA            CH</span>

<span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">message</a></span><span class="op">(</span><span class="st">"Defunciones (todos)"</span><span class="op">)</span>
<span class="co">#&gt; Defunciones (todos)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">datos_covid</span><span class="op">$</span><span class="va">`Defunciones (todos)`</span><span class="op">)</span>
<span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 5</span></span>
<span class="co">#&gt;   FECHA_SINTOMAS ENTIDAD_UM       n ENTIDAD_FEDERATIVA   ABREVIATURA</span>
<span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;date&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;int64&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">1</span> 2020-01-01     01               5 AGUASCALIENTES       AS         </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">2</span> 2020-01-01     02               4 BAJA CALIFORNIA      BC         </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">3</span> 2020-01-01     03               4 BAJA CALIFORNIA SUR  BS         </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">4</span> 2020-01-01     05               6 COAHUILA DE ZARAGOZA CL         </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">5</span> 2020-01-01     06               3 COLIMA               CM         </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">6</span> 2020-01-01     08              11 CHIHUAHUA            CH</span></code></pre></div>
<p>Hay múltiples opciones permitiendo seleccionar variables específicas
de unidades de cuidado intensivo, defunciones y si devolver la tabla
como <code>tibble</code> o como conexión de <code>dbplyr</code> a
<code>MARIADB</code>:</p>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">datos_covid</span> <span class="op">&lt;-</span> <span class="va">datos_covid</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="../reference/casos.html">casos</a></span><span class="op">(</span>
    <span class="co">#Lista de entidades que deseas</span>
    entidades <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"AGUASCALIENTES"</span>, <span class="st">"BAJA CALIFORNIA"</span>, <span class="st">"BAJA CALIFORNIA SUR"</span>,
                      <span class="st">"CAMPECHE"</span>, <span class="st">"CHIAPAS"</span>, <span class="st">"CHIHUAHUA"</span>,<span class="st">"CIUDAD DE M\u00c9XICO"</span>,
                      <span class="st">"COAHUILA DE ZARAGOZA"</span> , <span class="st">"COLIMA"</span>, <span class="st">"DURANGO"</span>, <span class="st">"GUANAJUATO"</span>,
                      <span class="st">"GUERRERO"</span>,<span class="st">"HIDALGO"</span>, <span class="st">"JALISCO"</span>, <span class="st">"M\u00c9XICO"</span>,
                      <span class="st">"MICHOAC\u00c1N DE OCAMPO"</span>, <span class="st">"MORELOS"</span>,<span class="st">"NAYARIT"</span>,
                      <span class="st">"NUEVO LE\u00d3N"</span>, <span class="st">"OAXACA"</span>, <span class="st">"PUEBLA"</span>, <span class="st">"QUER\u00c9TARO"</span>,
                      <span class="st">"QUINTANA ROO"</span>, <span class="st">"SAN LUIS POTOS\u00cd"</span>, <span class="st">"SINALOA"</span>, <span class="st">"SONORA"</span>,
                      <span class="st">"TABASCO"</span>, <span class="st">"TAMAULIPAS"</span>, <span class="st">"TLAXCALA"</span>, <span class="st">"VERACRUZ DE IGNACIO DE LA LLAVE"</span>, 
                      <span class="st">"YUCAT\u00c1N"</span>, <span class="st">"ZACATECAS"</span><span class="op">)</span>,
    
    <span class="co">#Si quieres que los resultados salgan por entidad = TRUE o ya agregados = FALSE</span>
    group_by_entidad   <span class="op">=</span> <span class="cn">TRUE</span>,
    
    <span class="co">#Selecciona esas entidades a qué tipo de entidad refieren: Unidad Médica, Residencia, Nacimiento</span>
    entidad_tipo       <span class="op">=</span> <span class="st">"Residencia"</span>, <span class="co">#c("Unidad M\u00e9dica", "Residencia", "Nacimiento"),</span>
    
    <span class="co">#Selecciona la fecha para la base de datos: Síntomas, Ingreso, Defunción</span>
    fecha_tipo         <span class="op">=</span> <span class="st">"Ingreso"</span>,
    
    <span class="co">#Selecciona todas las variables de clasificación que deseas agregar:</span>
    tipo_clasificacion <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Sospechosos"</span>,<span class="st">"Confirmados COVID"</span>, <span class="st">"Negativo a COVID"</span>, <span class="st">"Inválido"</span>, 
                           <span class="st">"No realizado"</span><span class="op">)</span>,
    
    <span class="co">#Selecciona si deseas agrupar por la variable tipo_clasificacion</span>
    group_by_tipo_clasificacion <span class="op">=</span> <span class="cn">TRUE</span>,
    
    <span class="co">#Selecciona todos los pacientes quieres incluir:</span>
    tipo_paciente       <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"AMBULATORIO"</span>, <span class="st">"HOSPITALIZADO"</span>, <span class="st">"NO ESPECIFICADO"</span><span class="op">)</span>,
    
    <span class="co">#Selecciona si agrupar por tipo de paciente</span>
    group_by_tipo_paciente <span class="op">=</span> <span class="cn">TRUE</span>,
    
    <span class="co">#Selecciona todas las opciones de Unidad de Cuidado Intensivo del paciente:</span>
    tipo_uci      <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"SI"</span>,<span class="st">"NO"</span>,<span class="st">"NO APLICA"</span>,<span class="st">"SE IGNORA"</span>,<span class="st">"NO ESPECIFICADO"</span><span class="op">)</span>,
    
    <span class="co">#Selecciona si agrupar por tipo de unidad</span>
    group_by_tipo_uci  <span class="op">=</span> <span class="cn">TRUE</span>,
    
    <span class="co">#Selecciona los sectores del sistema de salud a incluir</span>
    tipo_sector   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"CRUZ ROJA"</span>, <span class="st">"DIF"</span>, <span class="st">"ESTATAL"</span>, <span class="st">"IMSS"</span>, <span class="st">"IMSS-BIENESTAR"</span>, <span class="st">"ISSSTE"</span>, 
                      <span class="st">"MUNICIPAL"</span>, <span class="st">"PEMEX"</span>, <span class="st">"PRIVADA"</span>, <span class="st">"SEDENA"</span>, <span class="st">"SEMAR"</span>, <span class="st">"SSA"</span>, 
                      <span class="st">"UNIVERSITARIO"</span>,<span class="st">"NO ESPECIFICADO"</span><span class="op">)</span>,
    
    <span class="co">#Selecciona si deseas agrupar por tipo de sector</span>
    group_by_tipo_sector <span class="op">=</span> <span class="cn">FALSE</span>,
    
    <span class="co">#Selecciona si deseas sólo los que tuvieron defunción</span>
    defunciones   <span class="op">=</span> <span class="cn">TRUE</span>,
    
    <span class="co">#Selecciona los grupos de edad que deseas incluir en rango</span>
    edad_cut      <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">20</span>, <span class="fl">40</span>, <span class="fl">60</span><span class="op">)</span>, <span class="co">#Edades 20-40 y 40-60</span>
    
    <span class="co">#Selecciona si devolver el objeto como tibble</span>
    as_tibble     <span class="op">=</span> <span class="cn">TRUE</span>,
    
    <span class="co">#Selecciona si rellenar los conteos (n) con ceros cuando no haya observaciones.</span>
    fill_zeros    <span class="op">=</span> <span class="cn">TRUE</span>,
    
    <span class="co">#Nombre para llamarle en el objeto lista que regresa</span>
    list_name     <span class="op">=</span> <span class="st">"Ejemplo defunciones"</span>,
    
    <span class="co">#Agrupa los resultados además por estado de diabetes y sexo</span>
    .grouping_vars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"DIABETES"</span>, <span class="st">"SEXO"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p>Puedes ver la base generada así:</p>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">datos_covid</span><span class="op">$</span><span class="va">`Ejemplo defunciones`</span>, <span class="fl">20</span><span class="op">)</span>
<span class="co">#&gt; <span style="color: #949494;"># A tibble: 20 × 14</span></span>
<span class="co">#&gt;    FECHA_INGRESO DIABETES  SEXO EDAD_CAT ENTIDAD_RES CLASIFICACION_FINAL</span>
<span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;date&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> 2020-01-01           2     1 (40,60]  30                            7</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> 2020-01-02           2     1 (40,60]  30                            7</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> 2020-01-02           2     2 (20,40]  11                            7</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> 2020-01-02           2     2 (20,40]  26                            7</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> 2020-01-02           2     2 (40,60]  22                            5</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> 2020-01-03           1     1 (40,60]  05                            7</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> 2020-01-03           1     2 (40,60]  26                            7</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> 2020-01-03           1     2 (40,60]  28                            7</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> 2020-01-03           2     1 (40,60]  15                            6</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">10</span> 2020-01-03           2     2 (40,60]  13                            7</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">11</span> 2020-01-04           2     1 (20,40]  05                            7</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">12</span> 2020-01-04           2     2 (40,60]  21                            7</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">13</span> 2020-01-05           1     1 (40,60]  30                            7</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">14</span> 2020-01-05           1     2 (40,60]  09                            5</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">15</span> 2020-01-05           2     2 (20,40]  26                            6</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">16</span> 2020-01-05           2     2 (40,60]  28                            7</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">17</span> 2020-01-06           1     1 (40,60]  02                            7</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">18</span> 2020-01-06           1     2 (40,60]  15                            7</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">19</span> 2020-01-06           2     1 (40,60]  08                            6</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">20</span> 2020-01-06           2     1 (40,60]  09                            7</span>
<span class="co">#&gt; <span style="color: #949494;"># … with 8 more variables: TIPO_PACIENTE &lt;dbl&gt;, UCI &lt;dbl&gt;, n &lt;int64&gt;,</span></span>
<span class="co">#&gt; <span style="color: #949494;">#   ENTIDAD_FEDERATIVA &lt;chr&gt;, ABREVIATURA &lt;chr&gt;, CLASIFICACIÓN &lt;chr&gt;,</span></span>
<span class="co">#&gt; <span style="color: #949494;">#   DESCRIPCION_TIPO_PACIENTE &lt;chr&gt;, DESCRIPCION_TIPO_UCI &lt;chr&gt;</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="desconexión">Desconexión<a class="anchor" aria-label="anchor" href="#desconexi%C3%B3n"></a>
</h2>
<p>Una vez que terminaste de trabajar con la base original en
<code>MariaDB</code> deconecta el puntero haciendo:</p>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">datos_covid</span><span class="op">$</span><span class="fu">disconnect</span><span class="op">(</span><span class="op">)</span></code></pre></div>
</div>
<div class="section level2">
<h2 id="otras-funciones-de-interés">Otras funciones de interés<a class="anchor" aria-label="anchor" href="#otras-funciones-de-inter%C3%A9s"></a>
</h2>
<p>Faltan por desarrollar las siguientes funciones:</p>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">positividad</span><span class="op">(</span><span class="op">)</span>               <span class="co">#Positividad en pruebas</span>
<span class="fu">cfr</span><span class="op">(</span><span class="op">)</span>                       <span class="co">#Case fatality rate</span>
<span class="fu">chr</span><span class="op">(</span><span class="op">)</span>                       <span class="co">#Case hospitalization rate</span>
<span class="fu"><a href="https://rdrr.io/r/stats/TDist.html" class="external-link">rt</a></span><span class="op">(</span><span class="op">)</span>                        <span class="co">#Effective reproductive number</span>
<span class="fu">predice</span><span class="op">(</span><span class="op">)</span>                   <span class="co">#Función para predecir casos en automático</span>
<span class="fu">suaviza</span><span class="op">(</span><span class="op">)</span>                   <span class="co">#Suavizamiento de los casos observados</span>
<span class="fu">descarga_datos_ocupacion</span><span class="op">(</span><span class="op">)</span>  <span class="co">#Descarga de datos de ocupación hospitalaria</span>
<span class="fu">descarga_datos_vacunacion</span><span class="op">(</span><span class="op">)</span> <span class="co">#Descarga de datos de vacunación</span>
<span class="fu">descarga_datos_cdmx</span><span class="op">(</span><span class="op">)</span>       <span class="co">#Descarga de datos abiertos cdmx</span></code></pre></div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Rodrigo Zepeda-Tello.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.5.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
