<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="covidmx">
<title>Introducción a covidmx • covidmx</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Introducción a covidmx">
<meta property="og:description" content="covidmx">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">covidmx</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.2.0000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-2">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/intro.html">Introducción a covidmx</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav"></ul>
</div>

    
  </div>
</nav><div class="container template-article">

<div class="row">
  <main id="main"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Introducción a covidmx</h1>
                        <h4 data-toc-skip class="author">Rodrigo Zepeda-Tello</h4>
            
      
      
      <div class="d-none name"><code>intro.Rmd</code></div>
    </div>

    
    
<p>La librería de <code>covidmx</code> está para ayudarte a analizar los datos abiertos de COVID-19 de México, generar estadísticos de interés y visualizaciones rápidas. La idea es ahorrarte tiempo.</p>
<div class="section level2">
<h2 id="instalación">Instalación<a class="anchor" aria-label="anchor" href="#instalaci%C3%B3n"></a>
</h2>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#install.packages("devtools")</span>
<span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://devtools.r-lib.org/reference/remote-reexports.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"RodrigoZepeda/covidmx"</span><span class="op">)</span></code></pre></div>
</div>
<div class="section level2">
<h2 id="descarga-de-datos-de-la-dirección-general-de-epidemiología">Descarga de datos de la Dirección General de Epidemiología<a class="anchor" aria-label="anchor" href="#descarga-de-datos-de-la-direcci%C3%B3n-general-de-epidemiolog%C3%ADa"></a>
</h2>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">covidmx</span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></code></pre></div>
<p>Lo más importante es comenzar descargando la base de datos pública. Esto lo puedes hacer como sigue:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">datos_covid</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/descarga_datos_abiertos.html">descarga_datos_abiertos</a></span><span class="op">(</span>language <span class="op">=</span> <span class="st">"Español"</span><span class="op">)</span>
<span class="co">#&gt; Por favor se paciente todo el proceso toma ~10 minutos.</span>
<span class="co">#&gt; Descargando datos de:</span>
<span class="co">#&gt; http://datosabiertos.salud.gob.mx/gobmx/salud/datos_abiertos/datos_abiertos_covid19.zip</span>
<span class="co">#&gt; Descargado en /var/folders/42/2kdf45dd1qz5n7kf9lm8ld9r0000gn/T//RtmpqeFqQx/file3c03223cf4e8</span>
<span class="co">#&gt; Termine de leer los datos.</span>
<span class="co">#&gt; Descargando diccionario de:</span>
<span class="co">#&gt; http://datosabiertos.salud.gob.mx/gobmx/salud/datos_abiertos/diccionario_datos_covid19.zip</span>
<span class="co">#&gt; Descarga de diccionario en /var/folders/42/2kdf45dd1qz5n7kf9lm8ld9r0000gn/T//RtmpqeFqQx/file3c0349500ab2</span>
<span class="co">#&gt; + ORIGEN</span>
<span class="co">#&gt; + SECTOR</span>
<span class="co">#&gt; + SEXO</span>
<span class="co">#&gt; + TIPO_PACIENTE</span>
<span class="co">#&gt; + INTUBADO</span>
<span class="co">#&gt; + NEUMONIA</span>
<span class="co">#&gt; + EMBARAZO</span>
<span class="co">#&gt; + HABLA_LENGUA_INDIG</span>
<span class="co">#&gt; + INDIGENA</span>
<span class="co">#&gt; + DIABETES</span>
<span class="co">#&gt; + EPOC</span>
<span class="co">#&gt; + ASMA</span>
<span class="co">#&gt; + INMUSUPR</span>
<span class="co">#&gt; + HIPERTENSION</span>
<span class="co">#&gt; + OTRA_COM</span>
<span class="co">#&gt; + OBESIDAD</span>
<span class="co">#&gt; + RENAL_CRONICA</span>
<span class="co">#&gt; + TABAQUISMO</span>
<span class="co">#&gt; + MIGRANTE</span>
<span class="co">#&gt; + UCI</span>
<span class="co">#&gt; + CARDIOVASCULAR</span>
<span class="co">#&gt; + OTRO_CASO</span>
<span class="co">#&gt; + TOMA_MUESTRA_LAB</span>
<span class="co">#&gt; + TOMA_MUESTRA_ANTIGENO</span>
<span class="co">#&gt; + MUNICIPIO_RES</span>
<span class="co">#&gt; + ENTIDAD_UM</span>
<span class="co">#&gt; + ENTIDAD_NAC</span>
<span class="co">#&gt; + ENTIDAD_RES</span>
<span class="co">#&gt; + NACIONALIDAD</span>
<span class="co">#&gt; + RESULTADO_LAB</span>
<span class="co">#&gt; + RESULTADO_ANTIGENO</span>
<span class="co">#&gt; + CLASIFICACION_FINAL</span>
<span class="co">#&gt; Por favor no olvides citar este paquete. Ve citation('covidmx').</span></code></pre></div>
<p>Por default se agregan las etiquetas a los datos:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">datos_covid</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; Rows: 12,196,712</span>
<span class="co">#&gt; Columns: 43</span>
<span class="co">#&gt; $ FECHA_ACTUALIZACION   <span style="color: #949494; font-style: italic;">&lt;date&gt;</span> 2021-12-21, 2021-12-21, 2021-12-21, 2021-12-21,…</span>
<span class="co">#&gt; $ ID_REGISTRO           <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "z54912", "z1e370", "z35a05", "z3f33c", "z552ac"…</span>
<span class="co">#&gt; $ FECHA_INGRESO         <span style="color: #949494; font-style: italic;">&lt;date&gt;</span> 2020-06-12, 2020-04-22, 2020-06-18, 2020-03-29,…</span>
<span class="co">#&gt; $ FECHA_SINTOMAS        <span style="color: #949494; font-style: italic;">&lt;date&gt;</span> 2020-06-10, 2020-04-18, 2020-06-17, 2020-03-27,…</span>
<span class="co">#&gt; $ FECHA_DEF             <span style="color: #949494; font-style: italic;">&lt;date&gt;</span> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…</span>
<span class="co">#&gt; $ EDAD                  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 56, 42, 40, 67, 58, 32, 37, 64, 62, 71, 67, 15, …</span>
<span class="co">#&gt; $ PAIS_NACIONALIDAD     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "México", "México", "México", "México", "México"…</span>
<span class="co">#&gt; $ PAIS_ORIGEN           <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "97", "97", "97", "97", "97", "97", "97", "97", …</span>
<span class="co">#&gt; $ Fuente                <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "http://datosabiertos.salud.gob.mx/gobmx/salud/d…</span>
<span class="co">#&gt; $ Fecha_descarga        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "Wed Dec 22 14:51:10 2021", "Wed Dec 22 14:51:10…</span>
<span class="co">#&gt; $ ORIGEN                <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "USMER", "USMER", "USMER", "USMER", "USMER", "US…</span>
<span class="co">#&gt; $ SECTOR                <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "SSA", "SSA", "SSA", "SSA", "SSA", "SSA", "SSA",…</span>
<span class="co">#&gt; $ SEXO                  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "MUJER", "MUJER", "MUJER", "MUJER", "MUJER", "MU…</span>
<span class="co">#&gt; $ TIPO_PACIENTE         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "AMBULATORIO", "AMBULATORIO", "AMBULATORIO", "AM…</span>
<span class="co">#&gt; $ INTUBADO              <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "NO APLICA", "NO APLICA", "NO APLICA", "NO APLIC…</span>
<span class="co">#&gt; $ NEUMONIA              <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "NO", "NO", "NO", "NO", "NO", "NO", "NO", "NO", …</span>
<span class="co">#&gt; $ EMBARAZO              <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "NO", "NO", "NO", "NO", "NO", "NO", "NO APLICA",…</span>
<span class="co">#&gt; $ HABLA_LENGUA_INDIG    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "NO", "NO", "SI", "NO", "NO", "NO", "NO", "NO", …</span>
<span class="co">#&gt; $ INDIGENA              <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "NO", "NO", "SI", "NO", "NO", "NO", "NO", "NO", …</span>
<span class="co">#&gt; $ DIABETES              <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "SI", "NO", "NO", "NO", "SI", "NO", "NO", "NO", …</span>
<span class="co">#&gt; $ EPOC                  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "NO", "NO", "NO", "NO", "NO", "NO", "NO", "NO", …</span>
<span class="co">#&gt; $ ASMA                  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "NO", "SI", "NO", "NO", "NO", "NO", "NO", "NO", …</span>
<span class="co">#&gt; $ INMUSUPR              <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "NO", "NO", "NO", "NO", "NO", "NO", "NO", "NO", …</span>
<span class="co">#&gt; $ HIPERTENSION          <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "NO", "NO", "NO", "NO", "NO", "NO", "NO", "NO", …</span>
<span class="co">#&gt; $ OTRA_COM              <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "NO", "NO", "NO", "NO", "NO", "NO", "NO", "NO", …</span>
<span class="co">#&gt; $ OBESIDAD              <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "NO", "NO", "SI", "NO", "NO", "NO", "NO", "NO", …</span>
<span class="co">#&gt; $ RENAL_CRONICA         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "NO", "NO", "NO", "NO", "NO", "NO", "NO", "NO", …</span>
<span class="co">#&gt; $ TABAQUISMO            <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "NO", "NO", "NO", "NO", "NO", "NO", "NO", "NO", …</span>
<span class="co">#&gt; $ MIGRANTE              <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "NO ESPECIFICADO", "NO ESPECIFICADO", "NO ESPECI…</span>
<span class="co">#&gt; $ UCI                   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "NO APLICA", "NO APLICA", "NO APLICA", "NO APLIC…</span>
<span class="co">#&gt; $ CARDIOVASCULAR        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "NO", "NO", "NO", "NO", "NO", "NO", "NO", "NO", …</span>
<span class="co">#&gt; $ OTRO_CASO             <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "NO", "NO", "NO", "NO", "NO", "NO", "NO", "NO", …</span>
<span class="co">#&gt; $ TOMA_MUESTRA_LAB      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "SI", "SI", "SI", "NO", "SI", "SI", "SI", "SI", …</span>
<span class="co">#&gt; $ TOMA_MUESTRA_ANTIGENO <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "NO", "NO", "NO", "NO", "NO", "NO", "NO", "NO", …</span>
<span class="co">#&gt; $ MUNICIPIO_RES         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "TEKAX", "TAMAZULA DE GORDIANO", "VALLADOLID", "…</span>
<span class="co">#&gt; $ ENTIDAD_UM            <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "YUCATÁN", "JALISCO", "YUCATÁN", "CHIAPAS", "AGU…</span>
<span class="co">#&gt; $ ENTIDAD_NAC           <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "YUCATÁN", "JALISCO", "YUCATÁN", "CHIAPAS", "CIU…</span>
<span class="co">#&gt; $ ENTIDAD_RES           <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "YUCATÁN", "JALISCO", "YUCATÁN", "CHIAPAS", "AGU…</span>
<span class="co">#&gt; $ NACIONALIDAD          <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "MEXICANA", "MEXICANA", "MEXICANA", "MEXICANA", …</span>
<span class="co">#&gt; $ RESULTADO_LAB         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "POSITIVO A SARS-COV-2", "NO POSITIVO A SARS-COV…</span>
<span class="co">#&gt; $ RESULTADO_ANTIGENO    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "NO APLICA (CASO SIN MUESTRA)", "NO APLICA (CASO…</span>
<span class="co">#&gt; $ CLASIFICACIÓN         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "CASO DE SARS-COV-2  CONFIRMADO", "NEGATIVO A SA…</span>
<span class="co">#&gt; $ DESCRIPCIÓN           <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "Confirmado aplica cuando:\r\nEl caso tiene mues…</span></code></pre></div>
<p>esta opción puede cancelarse tomando <code>parse_dictionary = FALSE</code> en la descarga. Sin embargo, activar dicha opción puede tener problemas para algunos de los análisis que vienen después por lo que se recomienda no tenerla apagada.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/descarga_datos_abiertos.html">descarga_datos_abiertos</a></span><span class="op">(</span>language <span class="op">=</span> <span class="st">"Español"</span>, 
                        parse_dictionary <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; Por favor se paciente todo el proceso toma ~10 minutos.</span>
<span class="co">#&gt; Descargando datos de:</span>
<span class="co">#&gt; http://datosabiertos.salud.gob.mx/gobmx/salud/datos_abiertos/datos_abiertos_covid19.zip</span>
<span class="co">#&gt; Descargado en /var/folders/42/2kdf45dd1qz5n7kf9lm8ld9r0000gn/T//RtmpqeFqQx/file3c038abe457</span>
<span class="co">#&gt; Termine de leer los datos.</span>
<span class="co">#&gt; Por favor no olvides citar este paquete. Ve citation('covidmx').</span>
<span class="co">#&gt; Rows: 12,196,712</span>
<span class="co">#&gt; Columns: 42</span>
<span class="co">#&gt; $ FECHA_ACTUALIZACION   <span style="color: #949494; font-style: italic;">&lt;date&gt;</span> 2021-12-21, 2021-12-21, 2021-12-21, 2021-12-21,…</span>
<span class="co">#&gt; $ ID_REGISTRO           <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "z54912", "z1e370", "z35a05", "z3f33c", "z552ac"…</span>
<span class="co">#&gt; $ ORIGEN                <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 1, 1, 2, 1, 2, 1, …</span>
<span class="co">#&gt; $ SECTOR                <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 12, 12, 12, 12, 12, 12, 12, 6, 12, 12, 12, 12, 1…</span>
<span class="co">#&gt; $ ENTIDAD_UM            <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "31", "14", "31", "07", "01", "31", "31", "24", …</span>
<span class="co">#&gt; $ SEXO                  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 1, 1, 1, 1, 1, 1, 2, 1, 2, 1, 1, 2, 2, 2, 1, 2, …</span>
<span class="co">#&gt; $ ENTIDAD_NAC           <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "31", "14", "31", "07", "09", "31", "31", "28", …</span>
<span class="co">#&gt; $ ENTIDAD_RES           <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "31", "14", "31", "07", "01", "31", "31", "24", …</span>
<span class="co">#&gt; $ MUNICIPIO_RES         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "079", "085", "102", "101", "001", "089", "089",…</span>
<span class="co">#&gt; $ TIPO_PACIENTE         <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 1, 1, …</span>
<span class="co">#&gt; $ FECHA_INGRESO         <span style="color: #949494; font-style: italic;">&lt;date&gt;</span> 2020-06-12, 2020-04-22, 2020-06-18, 2020-03-29,…</span>
<span class="co">#&gt; $ FECHA_SINTOMAS        <span style="color: #949494; font-style: italic;">&lt;date&gt;</span> 2020-06-10, 2020-04-18, 2020-06-17, 2020-03-27,…</span>
<span class="co">#&gt; $ FECHA_DEF             <span style="color: #949494; font-style: italic;">&lt;date&gt;</span> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…</span>
<span class="co">#&gt; $ INTUBADO              <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 97, 97, 97, 97, 97, 97, 97, 97, 97, 97, 97, 97, …</span>
<span class="co">#&gt; $ NEUMONIA              <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 99, 1, 2, 2,…</span>
<span class="co">#&gt; $ EDAD                  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 56, 42, 40, 67, 58, 32, 37, 64, 62, 71, 67, 15, …</span>
<span class="co">#&gt; $ NACIONALIDAD          <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, …</span>
<span class="co">#&gt; $ EMBARAZO              <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 2, 2, 2, 2, 2, 2, 97, 2, 97, 2, 2, 97, 97, 97, 2…</span>
<span class="co">#&gt; $ HABLA_LENGUA_INDIG    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 2, 2, 1, 2, 2, 2, 2, 2, 99, 2, 2, 2, 2, 2, 99, 2…</span>
<span class="co">#&gt; $ INDIGENA              <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 2, 2, 1, 2, 2, 2, 2, 2, 99, 2, 2, 2, 2, 2, 2, 2,…</span>
<span class="co">#&gt; $ DIABETES              <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 1, 2, 2, 2, 1, 2, 2, 2, 2, 2, 1, 2, 2, 2, 2, 2, …</span>
<span class="co">#&gt; $ EPOC                  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, …</span>
<span class="co">#&gt; $ ASMA                  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 2, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, …</span>
<span class="co">#&gt; $ INMUSUPR              <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, …</span>
<span class="co">#&gt; $ HIPERTENSION          <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 2, 2, 2, 2, 2, 2, 2, 2, 1, 1, 2, 2, 2, 2, 2, 2, …</span>
<span class="co">#&gt; $ OTRA_COM              <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, …</span>
<span class="co">#&gt; $ CARDIOVASCULAR        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, …</span>
<span class="co">#&gt; $ OBESIDAD              <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 2, 2, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, …</span>
<span class="co">#&gt; $ RENAL_CRONICA         <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, …</span>
<span class="co">#&gt; $ TABAQUISMO            <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 1, 2, 1, …</span>
<span class="co">#&gt; $ OTRO_CASO             <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 2, 2, 2, 2, 2, 2, 2, 2, 2, 1, 1, 1, 2, 99, 1, 1,…</span>
<span class="co">#&gt; $ TOMA_MUESTRA_LAB      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 1, 1, 1, 2, 1, 1, 1, 1, 2, 1, 1, 2, 2, 1, 1, 1, …</span>
<span class="co">#&gt; $ RESULTADO_LAB         <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 1, 2, 2, 97, 1, 2, 1, 2, 97, 1, 1, 97, 97, 2, 4,…</span>
<span class="co">#&gt; $ TOMA_MUESTRA_ANTIGENO <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, …</span>
<span class="co">#&gt; $ RESULTADO_ANTIGENO    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 97, 97, 97, 97, 97, 97, 97, 97, 97, 97, 97, 97, …</span>
<span class="co">#&gt; $ CLASIFICACION_FINAL   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 3, 7, 7, 6, 3, 7, 3, 7, 6, 3, 3, 6, 6, 7, 5, 7, …</span>
<span class="co">#&gt; $ MIGRANTE              <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, …</span>
<span class="co">#&gt; $ PAIS_NACIONALIDAD     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "México", "México", "México", "México", "México"…</span>
<span class="co">#&gt; $ PAIS_ORIGEN           <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "97", "97", "97", "97", "97", "97", "97", "97", …</span>
<span class="co">#&gt; $ UCI                   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 97, 97, 97, 97, 97, 97, 97, 97, 97, 97, 97, 97, …</span>
<span class="co">#&gt; $ Fuente                <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "http://datosabiertos.salud.gob.mx/gobmx/salud/d…</span>
<span class="co">#&gt; $ Fecha_descarga        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "Wed Dec 22 15:01:57 2021", "Wed Dec 22 15:01:57…</span></code></pre></div>
</div>
<div class="section level1">
<h1 id="funcionamiento-general">Funcionamiento general<a class="anchor" aria-label="anchor" href="#funcionamiento-general"></a>
</h1>
<p>Basta componer la base de datos con cualquiera de las funciones para tener una tabla de datos agregada por fecha y entidad. Por ejemplo:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">datos_covid</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="../reference/casos.html">casos</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 3</span></span>
<span class="co">#&gt; <span style="color: #949494;"># Groups:   ENTIDAD_UM [1]</span></span>
<span class="co">#&gt;   ENTIDAD_UM     FECHA_SINTOMAS Casos_TODOS</span>
<span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;date&gt;</span>               <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span>
<span class="co">#&gt; <span style="color: #BCBCBC;">1</span> AGUASCALIENTES 2020-01-01               5</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">2</span> AGUASCALIENTES 2020-01-03               1</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">3</span> AGUASCALIENTES 2020-01-04               2</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">4</span> AGUASCALIENTES 2020-01-05               6</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">5</span> AGUASCALIENTES 2020-01-06               9</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">6</span> AGUASCALIENTES 2020-01-07               7</span></code></pre>
<p>Se puede filtar por entidad:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">datos_covid</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="../reference/casos.html">casos</a></span><span class="op">(</span>entidades <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"QUINTANA ROO"</span>,<span class="st">"AGUASCALIENTES"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="../reference/covid_plot.html">covid_plot</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p><img src="intro_files/figure-html/unnamed-chunk-4-1.png" width="700"></p>
<p>lo cual es equivalente a:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">datos_covid</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">ENTIDAD_UM</span> <span class="op">==</span> <span class="st">"QUINTANA ROO"</span> <span class="op">|</span> <span class="va">ENTIDAD_UM</span> <span class="op">==</span> <span class="st">"AGUASCALIENTES"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="../reference/casos.html">casos</a></span><span class="op">(</span><span class="op">)</span> </code></pre></div>
<p>Si se quiere filtrar por entidad de nacimiento y que la fecha sea la de ingreso, por ejemplo:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">datos_covid</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> 
    <span class="fu"><a href="../reference/casos.html">casos</a></span><span class="op">(</span>entidades    <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"QUINTANA ROO"</span>,<span class="st">"AGUASCALIENTES"</span><span class="op">)</span>,
          entidad_tipo <span class="op">=</span> <span class="st">"Nacimiento"</span>,
          fecha_tipo   <span class="op">=</span> <span class="st">"Ingreso"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
    <span class="fu"><a href="../reference/covid_plot.html">covid_plot</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p><img src="intro_files/figure-html/unnamed-chunk-6-1.png" width="700"></p>
<p>lo cual es equivalente a:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">datos_covid</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> 
    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">ENTIDAD_NAC</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"QUINTANA ROO"</span>, <span class="st">"AGUASCALIENTES"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">FECHA_INGRESO</span>, <span class="va">ENTIDAD_NAC</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/count.html" class="external-link">tally</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p>Finalmente, si sólo se desean casos confirmados:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">datos_covid</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> 
    <span class="fu"><a href="../reference/casos.html">casos</a></span><span class="op">(</span>entidades    <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"QUINTANA ROO"</span>,<span class="st">"AGUASCALIENTES"</span><span class="op">)</span>,
          entidad_tipo <span class="op">=</span> <span class="st">"Nacimiento"</span>,
          fecha_tipo   <span class="op">=</span> <span class="st">"Ingreso"</span>,
          tipo_caso    <span class="op">=</span> <span class="st">"Confirmados COVID"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
    <span class="fu"><a href="../reference/covid_plot.html">covid_plot</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p><img src="intro_files/figure-html/unnamed-chunk-8-1.png" width="700"></p>
<p>Si se desea que los casos vengan agregados (es decir <code>QUINTANA ROO + AGUASCALIENTES</code>) se puede cambiar la opción de <code>group_by_entidad</code>:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">datos_covid</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> 
    <span class="fu"><a href="../reference/casos.html">casos</a></span><span class="op">(</span>entidades        <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"QUINTANA ROO"</span>,<span class="st">"AGUASCALIENTES"</span><span class="op">)</span>,
          entidad_tipo     <span class="op">=</span> <span class="st">"Nacimiento"</span>,
          fecha_tipo       <span class="op">=</span> <span class="st">"Ingreso"</span>,
          tipo_caso        <span class="op">=</span> <span class="st">"Confirmados COVID"</span>,
          group_by_entidad <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
    <span class="fu"><a href="../reference/covid_plot.html">covid_plot</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p><img src="intro_files/figure-html/unnamed-chunk-9-1.png" width="700"> Esto es equivalente a:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">datos_covid</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> 
    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">ENTIDAD_NAC</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"QUINTANA ROO"</span>, <span class="st">"AGUASCALIENTES"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">CLASIFICACIÓN</span> <span class="op">==</span> <span class="st">"CASO DE SARS-COV-2  CONFIRMADO"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">FECHA_INGRESO</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/count.html" class="external-link">tally</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p>Podemos suavizar estos datos con la función <code>smooth</code></p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">datos_covid</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> 
    <span class="fu"><a href="../reference/casos.html">casos</a></span><span class="op">(</span>entidades    <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"QUINTANA ROO"</span>,<span class="st">"AGUASCALIENTES"</span><span class="op">)</span>,
          entidad_tipo <span class="op">=</span> <span class="st">"Nacimiento"</span>,
          fecha_tipo   <span class="op">=</span> <span class="st">"Ingreso"</span>,
          tipo_caso    <span class="op">=</span> <span class="st">"Confirmados COVID"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
    <span class="fu"><a href="../reference/smooth.html">smooth</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
    <span class="fu"><a href="../reference/covid_plot.html">covid_plot</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p><img src="intro_files/figure-html/unnamed-chunk-11-1.png" width="700"></p>
<p>Podemos obtener su derivada usando <code>tasa_cambio</code> y a su vez suavizarla:</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">datos_covid</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> 
    <span class="fu"><a href="../reference/casos.html">casos</a></span><span class="op">(</span>entidades    <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"QUINTANA ROO"</span>,<span class="st">"AGUASCALIENTES"</span><span class="op">)</span>,
          entidad_tipo <span class="op">=</span> <span class="st">"Nacimiento"</span>,
          fecha_tipo   <span class="op">=</span> <span class="st">"Ingreso"</span>,
          tipo_caso    <span class="op">=</span> <span class="st">"Confirmados COVID"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
    <span class="fu"><a href="../reference/smooth.html">smooth</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
    <span class="fu"><a href="../reference/tasa_cambio.html">tasa_cambio</a></span><span class="op">(</span>variable <span class="op">=</span> <span class="st">"SMOOTH"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> 
    <span class="fu"><a href="../reference/covid_plot.html">covid_plot</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p><img src="intro_files/figure-html/unnamed-chunk-12-1.png" width="700"></p>
<p>Los casos acumulados se obtienen con la función <code>acumulados</code>:</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">datos_covid</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> 
    <span class="fu"><a href="../reference/casos.html">casos</a></span><span class="op">(</span>entidades    <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"QUINTANA ROO"</span>,<span class="st">"AGUASCALIENTES"</span><span class="op">)</span>,
          entidad_tipo <span class="op">=</span> <span class="st">"Nacimiento"</span>,
          fecha_tipo   <span class="op">=</span> <span class="st">"Ingreso"</span>,
          tipo_caso    <span class="op">=</span> <span class="st">"Confirmados COVID"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
    <span class="fu"><a href="../reference/acumulados.html">acumulados</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
    <span class="fu"><a href="../reference/covid_plot.html">covid_plot</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p><img src="intro_files/figure-html/unnamed-chunk-13-1.png" width="700"></p>
<p>En cada sección se explica una variable de interés o un método asociado.</p>
<div class="section level3">
<h3 id="positividad">Positividad<a class="anchor" aria-label="anchor" href="#positividad"></a>
</h3>
<p>Definimos la positividad como: <span class="math display">\[
\text{Positividad}(t) = \frac{\textrm{Número de pruebas positivas en día }t}{\textrm{Número de pruebas positivas en día }t + \textrm{Número de pruebas negativas en día }t}
\]</span></p>
<blockquote>
<p><strong>Ojo</strong> Hay gente que en el denominador de la positividad incluye también las pruebas inconclusas. Aquí no las usamos pues consideramos ser inconcluso es igualmente probable para positivos y negativos.</p>
</blockquote>
<p>Las funciones importantes de positividad son:</p>
<ul>
<li>
<code>positividad</code> para todas las pruebas <code>pcr</code> y <code>antígeno</code>.</li>
<li>
<code>positividad_pcr</code> para pruebas de <code>pcr</code>
</li>
<li>
<code>positividad_antigenos</code> para pruebas de <code>antígeno</code>
</li>
</ul>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#Positividad general en sonora</span>
<span class="va">datos_covid</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="../reference/positividad.html">positividad</a></span><span class="op">(</span>entidades <span class="op">=</span> <span class="st">"SONORA"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="../reference/covid_plot.html">covid_plot</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p><img src="intro_files/figure-html/unnamed-chunk-14-1.png" width="700"></p>
<p>Podemos analizar la positividad sólo de PCR</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#Positividad de pcr (lab) dentro de los muertos en sonora</span>
<span class="va">datos_covid</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="../reference/positividad_pcr.html">positividad_pcr</a></span><span class="op">(</span>entidades <span class="op">=</span> <span class="st">"SONORA"</span>, fecha_tipo <span class="op">=</span> <span class="st">"Defunción"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="../reference/smooth.html">smooth</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="../reference/covid_plot.html">covid_plot</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p><img src="intro_files/figure-html/unnamed-chunk-15-1.png" width="700"></p>
<p>Podemos analizar la positividad de ambulatorios, dentro de fallecidos</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#Contraste contra antígenos en ambulatorios nacionales que fallecieron</span>
<span class="va">datos_covid</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> 
 <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">TIPO_PACIENTE</span> <span class="op">==</span> <span class="st">"AMBULATORIO"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
 <span class="fu"><a href="../reference/positividad_antigenos.html">positividad_antigenos</a></span><span class="op">(</span>fecha_tipo <span class="op">=</span> <span class="st">"Defunción"</span>, 
                       group_by_entidad <span class="op">=</span> <span class="cn">F</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
 <span class="fu"><a href="../reference/smooth.html">smooth</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
 <span class="fu"><a href="../reference/covid_plot.html">covid_plot</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p><img src="intro_files/figure-html/unnamed-chunk-16-1.png" width="700"></p>
</div>
<div class="section level3">
<h3 id="número-de-pruebas">Número de pruebas<a class="anchor" aria-label="anchor" href="#n%C3%BAmero-de-pruebas"></a>
</h3>
<p>El número de pruebas se calcula como:</p>
<p><span class="math display">\[
\text{Pruebas}(t) = \textrm{Número de pruebas positivas} + \textrm{Número de pruebas negativas} + \textrm{Número de pruebas inconclusas}
\]</span> esto para cada día.</p>
<p>Las funciones importantes de número de pruebas son:</p>
<ul>
<li>
<code>numero_pruebas</code> para todas las pruebas <code>pcr</code> y <code>antígeno</code>.</li>
<li>
<code>numero_pruebas_pcr</code> para pruebas de <code>pcr</code>
</li>
<li>
<code>numero_pruebas_antigenos</code> para pruebas de <code>antígeno</code>
</li>
<li>
<code>numero_pruebas_esperando_resultado</code> para pruebas de <code>pcr</code> (antígeno, por su naturaleza, no tiene <code>pendiente</code>)</li>
</ul>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#Total de pruebas en sonora y sinaloa</span>
<span class="va">datos_covid</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="../reference/numero_pruebas.html">numero_pruebas</a></span><span class="op">(</span>entidades <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"SONORA"</span>,<span class="st">"SINALOA"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="../reference/covid_plot.html">covid_plot</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p><img src="intro_files/figure-html/unnamed-chunk-17-1.png" width="700"></p>
<p>Total de pruebas PCR:</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#Pruebas PCR dedicadas a embarazadas</span>
<span class="va">datos_covid</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">EMBARAZO</span> <span class="op">==</span> <span class="st">"SI"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="../reference/numero_pruebas_pcr.html">numero_pruebas_pcr</a></span><span class="op">(</span>group_by_entidad <span class="op">=</span> <span class="cn">F</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="../reference/smooth.html">smooth</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="../reference/covid_plot.html">covid_plot</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p><img src="intro_files/figure-html/unnamed-chunk-18-1.png" width="700"></p>
<p>Pruebas de antígeno:</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#Pruebas antígeno en CDMX / Tlalpan</span>
<span class="va">datos_covid</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">MUNICIPIO_RES</span> <span class="op">==</span> <span class="st">"TLALPAN"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="../reference/numero_pruebas_antigeno.html">numero_pruebas_antigeno</a></span><span class="op">(</span>entidades <span class="op">=</span> <span class="st">"CIUDAD DE MÉXICO"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="../reference/covid_plot.html">covid_plot</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p><img src="intro_files/figure-html/unnamed-chunk-19-1.png" width="700"></p>
<p>Pruebas que están esperando resultado:</p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#Pruebas esperando resultado (acumuladas)</span>
<span class="va">datos_covid</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="../reference/numero_pruebas_esperando_resultado.html">numero_pruebas_esperando_resultado</a></span><span class="op">(</span>group_by_entidad <span class="op">=</span> <span class="cn">F</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="../reference/acumulados.html">acumulados</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="../reference/covid_plot.html">covid_plot</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p><img src="intro_files/figure-html/unnamed-chunk-20-1.png" width="700"></p>
</div>
<div class="section level3">
<h3 id="casos">Casos<a class="anchor" aria-label="anchor" href="#casos"></a>
</h3>
<p>Los casos se cuentan como cada una de las filas en el registro de datos abiertos. Las funciones relevantes son:</p>
<ul>
<li>
<code>casos</code> para todos los casos.</li>
<li>
<code>casos_hospitalizados</code> para aquellos con <code>TIPO_PACIENTE</code> hospitalizado.</li>
<li>
<code>casos_ambulatorios</code> para aquellos con <code>TIPO_PACIENTE</code> ambulatorio.</li>
<li>
<code>casos_uci</code> para aquellos con <code>TIPO_PACIENTE</code> hospitalizado y marca de Unidad de Cuidados Intensivos.</li>
</ul>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">datos_covid</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="../reference/casos.html">casos</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="../reference/smooth.html">smooth</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="../reference/covid_plot.html">covid_plot</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p><img src="intro_files/figure-html/unnamed-chunk-21-1.png" width="100%"> Para obtener los nacionales basta con la opción <code>group_by_entidad = FALSE</code>:</p>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">datos_covid</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="../reference/casos.html">casos</a></span><span class="op">(</span>group_by_entidad <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="../reference/smooth.html">smooth</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="../reference/covid_plot.html">covid_plot</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p><img src="intro_files/figure-html/unnamed-chunk-22-1.png" width="100%"></p>
<p>Se puede filtrar por tipo de entidad (<code>Unidad Médica</code>, <code>Residencia</code> o <code>Nacimiento</code>), por fecha de <code>Síntomas</code>, <code>Ingreso</code> ó <code>Defunción</code> (esta última regresa sólo defunciones) y por tipo de caso: <code>Todos</code>, <code>Sospechosos</code>, <code>Confirmados COVID</code>, <code>Sospechosos y Confirmados COVID</code> y <code>Negativo a COVID</code>:</p>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">datos_covid</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="../reference/casos_hospitalizados.html">casos_hospitalizados</a></span><span class="op">(</span>
    entidad_tipo <span class="op">=</span> <span class="st">"Residencia"</span>,
    fecha_tipo   <span class="op">=</span> <span class="st">"Ingreso"</span>,
    tipo_caso    <span class="op">=</span> <span class="st">"Sospechosos y Confirmados COVID"</span>,
    group_by_entidad <span class="op">=</span> <span class="cn">FALSE</span>
  <span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="../reference/smooth.html">smooth</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="../reference/covid_plot.html">covid_plot</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p><img src="intro_files/figure-html/unnamed-chunk-23-1.png" width="100%"></p>
<p>Las mismas funciones aplican para UCI y ambulatorios:</p>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">datos_covid</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="../reference/casos_ambulatorios.html">casos_ambulatorios</a></span><span class="op">(</span>
    entidad_tipo <span class="op">=</span> <span class="st">"Residencia"</span>,
    fecha_tipo   <span class="op">=</span> <span class="st">"Ingreso"</span>,
    tipo_caso    <span class="op">=</span> <span class="st">"Sospechosos y Confirmados COVID"</span>,
    group_by_entidad <span class="op">=</span> <span class="cn">FALSE</span>
  <span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="../reference/smooth.html">smooth</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="../reference/covid_plot.html">covid_plot</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p><img src="intro_files/figure-html/unnamed-chunk-24-1.png" width="100%"></p>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">datos_covid</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="../reference/casos_uci.html">casos_uci</a></span><span class="op">(</span>
    entidad_tipo <span class="op">=</span> <span class="st">"Residencia"</span>,
    fecha_tipo   <span class="op">=</span> <span class="st">"Ingreso"</span>,
    tipo_caso    <span class="op">=</span> <span class="st">"Sospechosos y Confirmados COVID"</span>,
    group_by_entidad <span class="op">=</span> <span class="cn">FALSE</span>
  <span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="../reference/smooth.html">smooth</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="../reference/covid_plot.html">covid_plot</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p><img src="intro_files/figure-html/unnamed-chunk-25-1.png" width="100%"></p>
</div>
<div class="section level3">
<h3 id="defunciones">Defunciones<a class="anchor" aria-label="anchor" href="#defunciones"></a>
</h3>
<p>Las funciones de <code>defunciones</code> son idénticas a las de casos sólo que por default están organizadas por <code>FECHA_DEF</code>. Están disponibles:</p>
<ul>
<li>
<code>defunciones</code> para todos los pacientes</li>
<li>
<code>defunciones_hospitalizados</code> para aquellos con <code>TIPO_PACIENTE</code> hospitalizado.</li>
<li>
<code>defunciones_ambulatorios</code> para aquellos con <code>TIPO_PACIENTE</code> ambulatorio.</li>
<li>
<code>defunciones_uci</code> para aquellos con <code>TIPO_PACIENTE</code> hospitalizado y marca de Unidad de Cuidados Intensivos.</li>
</ul>
<p>Las opciones son las mismas que para <code>casos</code>:</p>
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">datos_covid</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="../reference/defunciones.html">defunciones</a></span><span class="op">(</span>
    entidad_tipo <span class="op">=</span> <span class="st">"Residencia"</span>,
    fecha_tipo   <span class="op">=</span> <span class="st">"Ingreso"</span>,
    tipo_caso    <span class="op">=</span> <span class="st">"Sospechosos y Confirmados COVID"</span>,
    group_by_entidad <span class="op">=</span> <span class="cn">FALSE</span>
  <span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="../reference/smooth.html">smooth</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="../reference/covid_plot.html">covid_plot</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p><img src="intro_files/figure-html/unnamed-chunk-26-1.png" width="100%"></p>
<p>Podemos ver, por ejemplo, las defunciones acumuladas de Tuxtla Gutiérrez:</p>
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">datos_covid</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">MUNICIPIO_RES</span> <span class="op">==</span> <span class="st">"TUXTLA GUTIÉRREZ"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="../reference/defunciones_hospitalizados.html">defunciones_hospitalizados</a></span><span class="op">(</span>entidades <span class="op">=</span> <span class="st">"CHIAPAS"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="../reference/acumulados.html">acumulados</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 3</span></span>
<span class="co">#&gt; <span style="color: #949494;"># Groups:   ENTIDAD_UM [1]</span></span>
<span class="co">#&gt;   ENTIDAD_UM FECHA_DEF  ACUMULADOS_Defunciones_Hospitalizado_Casos_TODOS</span>
<span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;date&gt;</span>                                                <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span>
<span class="co">#&gt; <span style="color: #BCBCBC;">1</span> CHIAPAS    2020-02-05                                                1</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">2</span> CHIAPAS    2020-03-02                                                2</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">3</span> CHIAPAS    2020-03-21                                                3</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">4</span> CHIAPAS    2020-03-31                                                4</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">5</span> CHIAPAS    2020-04-01                                                5</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">6</span> CHIAPAS    2020-04-02                                                6</span></code></pre>
<p>O la tasa de cambio de las defunciones en UCI en COLIMA:</p>
<div class="sourceCode" id="cb33"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">datos_covid</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="../reference/defunciones_uci.html">defunciones_uci</a></span><span class="op">(</span>entidades <span class="op">=</span> <span class="st">"COLIMA"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="../reference/tasa_cambio.html">tasa_cambio</a></span><span class="op">(</span><span class="op">)</span> </code></pre></div>
<pre><code><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 3</span></span>
<span class="co">#&gt; <span style="color: #949494;"># Groups:   ENTIDAD_UM [1]</span></span>
<span class="co">#&gt;   ENTIDAD_UM FECHA_DEF  TASA_CAMBIO_UCI_Casos_TODOS</span>
<span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;date&gt;</span>                           <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="co">#&gt; <span style="color: #BCBCBC;">1</span> COLIMA     2020-04-12                           1</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">2</span> COLIMA     2020-04-16                           0</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">3</span> COLIMA     2020-05-20                           0</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">4</span> COLIMA     2020-05-24                           0</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">5</span> COLIMA     2020-06-07                           0</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">6</span> COLIMA     2020-06-15                           0</span></code></pre>
<p>O la misma situación con ambulatorios:</p>
<div class="sourceCode" id="cb35"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">datos_covid</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="../reference/defunciones_ambulatorios.html">defunciones_ambulatorios</a></span><span class="op">(</span>entidades <span class="op">=</span> <span class="st">"COLIMA"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="../reference/smooth.html">smooth</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="../reference/tasa_cambio.html">tasa_cambio</a></span><span class="op">(</span><span class="st">'SMOOTH'</span><span class="op">)</span> </code></pre></div>
<pre><code><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 3</span></span>
<span class="co">#&gt; <span style="color: #949494;"># Groups:   ENTIDAD_UM [1]</span></span>
<span class="co">#&gt;   ENTIDAD_UM FECHA_DEF  TASA_CAMBIO_SMOOTH</span>
<span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;date&gt;</span>                  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="co">#&gt; <span style="color: #BCBCBC;">1</span> COLIMA     2020-05-29           1.17    </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">2</span> COLIMA     2020-05-31          -<span style="color: #BB0000;">0.000</span><span style="color: #BB0000; text-decoration: underline;">954</span></span>
<span class="co">#&gt; <span style="color: #BCBCBC;">3</span> COLIMA     2020-06-19          -<span style="color: #BB0000;">0.023</span><span style="color: #BB0000; text-decoration: underline;">4</span>  </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">4</span> COLIMA     2020-06-23          -<span style="color: #BB0000;">0.010</span><span style="color: #BB0000; text-decoration: underline;">6</span>  </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">5</span> COLIMA     2020-07-09          -<span style="color: #BB0000;">0.060</span><span style="color: #BB0000; text-decoration: underline;">2</span>  </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">6</span> COLIMA     2020-07-11          -<span style="color: #BB0000;">0.007</span><span style="color: #BB0000; text-decoration: underline;">61</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="suavizamiento">Suavizamiento<a class="anchor" aria-label="anchor" href="#suavizamiento"></a>
</h3>
<p>Los datos observados pueden suavizarse usando <code>splines</code> (<code>method = "splines"</code>), un <code>kernel</code> (<code>method = "kernel"</code>), local weighted (<code>method = "lowess"</code>) y media móvil (<code>method = "rollmean"</code>). La siguiente gráfica muestra los métodos:</p>
<p><img src="intro_files/figure-html/unnamed-chunk-33-1.png" width="700"></p>
<p>Los parámetros de ajuste son como siguen:</p>
<ul>
<li><p><code>splines</code> se pueden cambiar los grados de libertad con <code>df</code> menos grados de libertad = más lineal; más grados de libertad = más curva.</p></li>
<li><p><code>kernel</code> se puede cambiar el ancho de banda con <code>bw</code>. <code>bw</code> más pequeño tiende al sobreajuste; <code>bw</code> más grande tiende al subajuste.</p></li>
<li><p><code>lowess</code> se puede cambiar el parámetro <code>f</code>. Más alto <code>f</code> más suavizado.</p></li>
<li><p><code>rollmean</code> se pueden cambiar los días a incluir en la media móvil con <code>k</code>. Por default se tiene <code>k = 7</code>. Con <code>k = 1</code> se obtienen los datos originales. A mayor <code>k</code> mayor suavizamiento.</p></li>
</ul>
</div>
<div class="section level3">
<h3 id="tasa-de-cambio">Tasa de cambio<a class="anchor" aria-label="anchor" href="#tasa-de-cambio"></a>
</h3>
<p>La tasa de cambio para cualquiera de las variables se refiere a la variable del día <span class="math inline">\(t\)</span> menos la del día <span class="math inline">\(t-1\)</span>. Por ejemplo, en el caso de casos:</p>
<p><span class="math display">\[
\textrm{Tasa de Cambio}_{\text{Casos}}(t) = \text{Casos}(t) -  \text{Casos}(t-1)
\]</span></p>
<p>Por el mismo ruido de los datos la tasa de cambio tiende a oscilar en torno a cero por lo que en sí misma no es muy informativa:</p>
<div class="sourceCode" id="cb37"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">datos_covid</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="../reference/casos.html">casos</a></span><span class="op">(</span>group_by_entidad <span class="op">=</span> <span class="cn">F</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="../reference/tasa_cambio.html">tasa_cambio</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="../reference/covid_plot.html">covid_plot</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; Warning in tasa_cambio(.): Para la tasa de cambio se sugieresuavizar primero con smooth: </span>
<span class="co">#&gt; covid_dataset %&gt;% smooth() %&gt;% tasa_cambio('SMOOTH')</span></code></pre></div>
<p><img src="intro_files/figure-html/unnamed-chunk-34-1.png" width="700"></p>
<p>La recomendación (de acuerdo con el <code>Warning</code>) es tomar la tasa de cambio pero de la variable suavizada:</p>
<div class="sourceCode" id="cb38"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">datos_covid</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="../reference/casos.html">casos</a></span><span class="op">(</span>group_by_entidad <span class="op">=</span> <span class="cn">F</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="../reference/smooth.html">smooth</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="../reference/tasa_cambio.html">tasa_cambio</a></span><span class="op">(</span>variable <span class="op">=</span> <span class="st">"SMOOTH"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="../reference/covid_plot.html">covid_plot</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p><img src="intro_files/figure-html/unnamed-chunk-35-1.png" width="700"></p>
<p>la cual resulta en una mejor aproximación a la derivada.</p>
<blockquote>
<p><strong>Ojo</strong> Una tasa de cambio positiva implica que los casos van en aumento; negativa implica reducción y cero implica que permanecen constantes.</p>
</blockquote>
</div>
<div class="section level3">
<h3 id="acumulados">Acumulados<a class="anchor" aria-label="anchor" href="#acumulados"></a>
</h3>
<p>Los casos acumulados se pueden obtener mediante el comando <code>acumulados</code>. Estos corresponden a todos los casos que han ocurrido hasta antes del tiempo <span class="math inline">\(t\)</span> (incluyendo dicho momento). Es decir:</p>
<p><span class="math display">\[
\textrm{Acumulados(t)} = \sum\limits_{s = t_0}^t \textrm{Casos}(s)
\]</span></p>
<p>donde <span class="math inline">\(t_0\)</span> es el inicio de los registros. Por ejemplo, los casos acumulados en el tercer día de pandemia (suponiendo empezó en <span class="math inline">\(t_0 = 0\)</span>) serían:</p>
<p><span class="math display">\[
\textrm{Acumulados(3)} = \textrm{Casos}(0) + \textrm{Casos}(1) + \textrm{Casos}(2) + \textrm{Casos}(3)
\]</span></p>
<p>Como ejemplo se tiene:</p>
<div class="sourceCode" id="cb39"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">datos_covid</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="../reference/casos.html">casos</a></span><span class="op">(</span>group_by_entidad <span class="op">=</span> <span class="cn">F</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="../reference/acumulados.html">acumulados</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="../reference/covid_plot.html">covid_plot</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p><img src="intro_files/figure-html/unnamed-chunk-36-1.png" width="700"></p>
</div>
<div class="section level3">
<h3 id="otras-funciones-de-interés">Otras funciones de interés<a class="anchor" aria-label="anchor" href="#otras-funciones-de-inter%C3%A9s"></a>
</h3>
<p>Faltan por desarrollar las siguientes funciones:</p>
<div class="sourceCode" id="cb40"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">cfr</span><span class="op">(</span><span class="op">)</span>                       <span class="co">#Case fatality rate</span>
<span class="fu">chr</span><span class="op">(</span><span class="op">)</span>                       <span class="co">#Case hospitalization rate</span>
<span class="fu"><a href="https://rdrr.io/r/stats/TDist.html" class="external-link">rt</a></span><span class="op">(</span><span class="op">)</span>                        <span class="co">#Effective reproductive number</span>
<span class="fu">descarga_datos_ocupacion</span><span class="op">(</span><span class="op">)</span>  <span class="co">#Descarga de datos de ocupación hospitalaria</span>
<span class="fu">descarga_datos_vacunacion</span><span class="op">(</span><span class="op">)</span> <span class="co">#Descarga de datos de vacunación</span>
<span class="fu">descarga_datos_cdmx</span><span class="op">(</span><span class="op">)</span>       <span class="co">#Descarga de datos abiertos cdmx</span>
<span class="fu">tasa</span><span class="op">(</span><span class="op">)</span>                      <span class="co">#Convierte casos en tasas</span></code></pre></div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Rodrigo Zepeda-Tello.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.1.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
